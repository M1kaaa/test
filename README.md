# Калькулятор патч-кордов

Веб-приложение для расчета длины патч-кордов между серверами в дата-центре с визуализацией маршрута.

## Оглавление

- [Что умеет](#что-умеет)
- [Быстрый старт](#быстрый-старт)
- [Портативная версия](#портативная-версия)
- [Установка из исходников](#установка-из-исходников)
- [Структура проекта](#структура-проекта)
- [Типовые проблемы](#типовые-проблемы)
- [FAQ](#faq)

## Что умеет

- Расчет для сценариев:
  - серверы в одной стойке
  - серверы в разных стойках
- Визуализация маршрута кабеля по сегментам
- Выбор рекомендуемой длины патч-корда из доступного ряда
- Загрузка стоек из `racks-condition (10).xlsx` (диапазон `02b03`–`02b18`)

## Быстрый старт

### Вариант 1 (рекомендуется для Windows)

1. Убедитесь, что установлен Python 3.11+.
2. Дважды кликните по файлу `запустить.bat`.
3. Дождитесь открытия браузера с интерфейсом калькулятора.

### Вариант 2 (через Python)

```bash
pip install -r requirements.txt
python run_app.py
```

## Портативная версия

Для пользователей без Python используйте готовую сборку из `download`:

- `PatchCordCalculatorPortable.zip`

### Как запустить

1. Распакуйте архив.
2. Запустите `PatchCordCalculator.exe`.
3. Дождитесь автоматического открытия браузера.

## Установка из исходников

### Требования

- Windows 10/11
- Python 3.11+
- Современный браузер (Chrome/Edge/Firefox)

### Команды установки

```bash
pip install -r requirements.txt
```

## Структура проекта

- `cable_calculator.py` — логика расчета длины
- `rack_plan.py` — загрузка и фильтрация стоек из Excel
- `web_api.py` — API (FastAPI)
- `web_interface_v2.html` — основной веб-интерфейс
- `run_app.py` — единая точка запуска (API + web)
- `запустить.bat` — быстрый запуск для Windows

## Типовые проблемы

### Браузер не открылся автоматически

- Откройте вручную: `http://localhost:8080/web_interface_v2.html`

### Порт занят (8000 или 8080)

- Закройте старые экземпляры приложения.
- Перезапустите `run_app.py` или `запустить.bat`.

### Предупреждение брандмауэра Windows

- Разрешите локальный доступ приложению.

## FAQ

### Где хранятся данные по стойкам?

В файле `racks-condition (10).xlsx`.

### Можно ли запускать без Python?

Да, через портативную сборку `PatchCordCalculatorPortable.zip`.

### Какая версия интерфейса актуальна?

Актуальный интерфейс — `web_interface_v2.html`.

## Лицензия

Внутреннее использование.
